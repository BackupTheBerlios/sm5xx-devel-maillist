<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Sm5xx-devel] [Linux-fbdev-devel] SM501 framebuffer driver
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/sm5xx-devel/2006-October/index.html" >
   <LINK REL="made" HREF="mailto:sm5xx-devel%40lists.berlios.de?Subject=Re%3A%20%5BSm5xx-devel%5D%20%5BLinux-fbdev-devel%5D%20SM501%20framebuffer%20driver&In-Reply-To=%3C4533E012.4060909%40applieddata.net%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000004.html">
   <LINK REL="Next"  HREF="000003.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Sm5xx-devel] [Linux-fbdev-devel] SM501 framebuffer driver</H1>
    <B>Robert Whaley</B> 
    <A HREF="mailto:sm5xx-devel%40lists.berlios.de?Subject=Re%3A%20%5BSm5xx-devel%5D%20%5BLinux-fbdev-devel%5D%20SM501%20framebuffer%20driver&In-Reply-To=%3C4533E012.4060909%40applieddata.net%3E"
       TITLE="[Sm5xx-devel] [Linux-fbdev-devel] SM501 framebuffer driver">rwhaley at applieddata.net
       </A><BR>
    <I>Mon Oct 16 21:40:02 CEST 2006</I>
    <P><UL>
        <LI>Previous message: <A HREF="000004.html">[Sm5xx-devel] [Linux-fbdev-devel] SM501 framebuffer driver
</A></li>
        <LI>Next message: <A HREF="000003.html">[Sm5xx-devel] Administrativa question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6">[ date ]</a>
              <a href="thread.html#6">[ thread ]</a>
              <a href="subject.html#6">[ subject ]</a>
              <a href="author.html#6">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Bill Gatliff wrote:
&gt;<i> Paul:
</I>&gt;<i> 
</I>&gt;<i> Paul Mundt wrote:
</I>&gt;<i> 
</I>&gt;&gt;<i> Hi Bill, fancy seeing you in this thread ;-)
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> Heh, you need to talk to the guy at the door.  He'll let anyone in, I'm 
</I>&gt;<i> proof!  :)
</I>&gt;<i> 
</I>&gt;&gt;<i> We want the 8051 blob in userspace if anything, there's little reason to
</I>&gt;&gt;<i> tie this in to the module specifically, and it's handy to expose the
</I>&gt;&gt;<i> interface for people that are specifically interested in loading in
</I>&gt;&gt;<i> alternate code on the 8051.
</I>&gt;&gt;<i>
</I>&gt;&gt;<i> As far as including source for the 8051 code itself, that would be nice
</I>&gt;&gt;<i> to have, but I doubt it's something the majority of users are going to
</I>&gt;&gt;<i> care about. I've certainly never seen any.
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> I totally agree on all points.  But I hate blobs.  If the source code is 
</I>&gt;<i> around, I'd love to have it recorded somewhere even though we all know 
</I>&gt;<i> that Kbuild and most users won't know what to do with it.  Just In Case.
</I>&gt;<i> 
</I>&gt;<i> Do we even know where this blob came from originally?
</I>&gt;<i> 
</I>&gt;&gt;<i> On that note, do you have a pointer to some of the various ALSA
</I>&gt;&gt;<i> implementations that are floating around? I've only seen the OSS driver
</I>&gt;&gt;<i> we had in CVS, and that provides a rather dysmal starting point..
</I>&gt;&gt;<i>  
</I>&gt;&gt;<i>
</I>&gt;<i> 
</I>&gt;<i> Whaley sent me one just last week (hi Robert!).  Given that, I don't 
</I>&gt;<i> suppose he'd mind my forwarding the patch on.
</I>
Not at all.  BTW: we use this (moderately buggy) compiler to 
compile the 8051 code:

<A HREF="http://sourceforge.net/project/showfiles.php?group_id=599">http://sourceforge.net/project/showfiles.php?group_id=599</A>

Between the bugs in the compiler and the absence of documentation 
in the SM501 manual about 8051 interrupts, etc.   It was pretty 
difficult making this work.

Don't try anything remotely like this with this compiler:

u8 a, b;
u32 c;

    c |= a &lt;&lt; b;

That's why all the registers are u8 instead of u32.

&gt;<i>  What makes it tricky to 
</I>&gt;<i> do so is that the patch is against his highly-evolved sm501 driver 
</I>&gt;<i> stack, so there will be some mending required.
</I>&gt;<i> 
</I>&gt;<i> Yet another reason why we've all got to get all this stuff together.  
</I>&gt;<i> The SM501 is a decent chip, and there's too few of us to go around 
</I>&gt;<i> re-inventing the wheel.
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> 
</I>&gt;<i> b.g.
</I>&gt;<i> 
</I>

-- 
Robert Whaley
Applied Data Systems            www.applieddata.net
434-244-9504		    <A HREF="https://lists.berlios.de/mailman/listinfo/sm5xx-devel">rwhaley at applieddata.net</A>
-------------- next part --------------
A non-text attachment was scrubbed...
Name: sm501_8051_alsa.diff
Type: text/x-patch
Size: 57290 bytes
Desc: not available
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/sm5xx-devel/attachments/20061016/04a8b10a/attachment.bin">https://lists.berlios.de/pipermail/sm5xx-devel/attachments/20061016/04a8b10a/attachment.bin</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000004.html">[Sm5xx-devel] [Linux-fbdev-devel] SM501 framebuffer driver
</A></li>
	<LI>Next message: <A HREF="000003.html">[Sm5xx-devel] Administrativa question
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#6">[ date ]</a>
              <a href="thread.html#6">[ thread ]</a>
              <a href="subject.html#6">[ subject ]</a>
              <a href="author.html#6">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/sm5xx-devel">More information about the Sm5xx-devel
mailing list</a><br>
</body></html>
